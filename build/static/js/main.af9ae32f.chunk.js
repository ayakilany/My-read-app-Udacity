(this["webpackJsonpnd0191-myreads-starter"]=this["webpackJsonpnd0191-myreads-starter"]||[]).push([[0],{31:function(e,t,n){},33:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(26),c=n.n(s),r=(n(31),n(5)),o=n(4),i=n.n(o),l=n(6),u=(n(33),n(2)),d=n(11),h=n(12),j=n.n(h),b=n(3),f=function(e){var t=e.handleupdate,n=e.book;return Object(b.jsx)("li",{children:Object(b.jsxs)("div",{className:"book",children:[Object(b.jsxs)("div",{className:"book-top",children:[Object(b.jsx)("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:n.imageLinks?"url(".concat(n.imageLinks.thumbnail,")"):"none"}}),Object(b.jsx)("div",{className:"book-shelf-changer",children:Object(b.jsxs)("select",{defaultValue:n.shelf?n.shelf:"none",onChange:function(e){return t(n,e.target.value)},children:[Object(b.jsx)("option",{disabled:!0,children:"Move to..."}),Object(b.jsx)("option",{value:"currentlyReading",children:"Currently Reading"}),Object(b.jsx)("option",{value:"wantToRead",children:"Want to Read"}),Object(b.jsx)("option",{value:"read",children:"Read"}),Object(b.jsx)("option",{value:"none",children:"None"})]})})]}),Object(b.jsx)("div",{className:"book-title",children:n.title}),n.authors?Object(b.jsx)("div",{className:"book-authors",children:n.authors?n.authors:""}):Object(b.jsx)("div",{className:"book-authors"})]})})};f.protoTypes={handleupdate:j.a.func.isRequired,book:j.a.array.isRequired};var p=f,O=function(e){var t=e.shelf,n=e.listBook,a=e.handleupdate;return Object(b.jsx)("div",{className:"list-books-content",children:Object(b.jsxs)("div",{className:"bookshelf",children:[Object(b.jsx)("h2",{className:"bookshelf-title",children:t.name}),Object(b.jsx)("div",{className:"bookshelf-books",children:Object(b.jsx)("ol",{className:"books-grid",children:n.filter((function(e){return e.shelf.replace(/ +/g,"").toLowerCase()===t.name.replace(/ +/g,"").toLowerCase()})).map((function(e){return Object(b.jsx)(p,{book:e,handleupdate:a},e.idustryIdentifiers)}))})})]})})};O.protoTypes={handleupdate:j.a.func.isRequired};var v=O,x=function(e){var t=e.bookShelfs,n=e.listBook,a=e.handleupdate;return Object(b.jsx)("div",{className:"app",children:Object(b.jsxs)("div",{className:"list-books",children:[Object(b.jsx)("div",{className:"list-books-title",children:Object(b.jsx)("h1",{children:"MyReads"})}),t.map((function(e){return Object(b.jsx)(v,{shelf:e,listBook:n,handleupdate:a},e.id)})),Object(b.jsx)("div",{className:"open-search",children:Object(b.jsx)(d.b,{to:"/search",children:"Add"})})]})})};x.protoTypes={handleupdate:j.a.func.isRequired};var m=x,k=n(20),y="https://reactnd-books-api.udacity.com",g=localStorage.token;g||(g=localStorage.token=Math.random().toString(36).substr(-8));var N={Accept:"application/json",Authorization:g},w=function(e){var t=e.searches,n=e.handleupdate,a=e.searchQuery;e.listBook;return Object(b.jsx)("div",{className:"search-books-results",children:Object(b.jsx)("ol",{className:"books-grid",children:t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})).map((function(e){return Object(b.jsx)(p,{book:e,handleupdate:n},e.idustryIdentifiers)}))})})},R=function(e){var t=e.listBook,n=e.handleupdate,s=Object(a.useState)([]),c=Object(r.a)(s,2),o=c[0],u=c[1],h=Object(a.useState)(""),j=Object(r.a)(h,2),f=j[0],p=j[1];return Object(a.useEffect)((function(){var e=!0;return function(){var n=Object(l.a)(i.a.mark((function n(){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""===f){n.next=5;break}return n.next=3,s=f,c=void 0,fetch("".concat(y,"/search"),{method:"POST",headers:Object(k.a)(Object(k.a)({},N),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:s,maxResults:c})}).then((function(e){return e.json()})).then((function(e){return e.books}));case 3:(a=n.sent).error?u([]):e&&(u(t.concat(a)),console.log(a));case 5:case"end":return n.stop()}var s,c}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!1,u([])}}),[f]),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"search-books",children:[Object(b.jsxs)("div",{className:"search-books-bar",children:[Object(b.jsx)(d.b,{to:"/",className:"close-search",children:"Close"}),Object(b.jsx)("div",{className:"search-books-input-wrapper",children:Object(b.jsx)("input",{type:"text",placeholder:"Search by title, or author",value:f,onChange:function(e){var t;(t=e).preventDefault(),p(t.target.value)}})})]}),Object(b.jsx)(w,{searches:o,handleupdate:n,searchQuery:f,listBook:t})]})})};var S=function(){var e=Object(u.l)(),t=function(e,t){e.shelf=t,n(e,t)},n=function(t,n){(function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,s=n,fetch("".concat(y,"/books/").concat(a.id),{method:"PUT",headers:Object(k.a)(Object(k.a)({},N),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:s})}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}var a,s}),e)})));return function(){return e.apply(this,arguments)}})()(),e("/")},s=Object(a.useState)([]),c=Object(r.a)(s,2),o=c[0],d=c[1];return Object(a.useEffect)((function(){return function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/books"),{headers:N}).then((function(e){return e.json()})).then((function(e){return e.books}));case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){d([])}}),[]),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",element:Object(b.jsx)(m,{bookShelfs:[{name:"Currently Reading",id:1,shelfname:"currentlyReading"},{name:"Want to Read",id:2,shelfname:"wantToRead"},{name:"Read",id:3,shelfname:"read"}],listBook:o,handleupdate:t})}),Object(b.jsx)(u.a,{path:"/search",element:Object(b.jsx)(R,{listBook:o,handleupdate:t})})]})};c.a.render(Object(b.jsx)(d.a,{children:Object(b.jsx)(S,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.af9ae32f.chunk.js.map