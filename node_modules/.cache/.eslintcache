[{"E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\index.js":"1","E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\App.js":"2","E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\ListOfBook.js":"3","E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\AddAndSearch.js":"4","E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\BooksAPI.js":"5","E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\ShelfMain.js":"6","E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\EachBook.js":"7","E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\SearchResult.js":"8"},{"size":275,"mtime":1671548953285,"results":"9","hashOfConfig":"10"},{"size":1752,"mtime":1671767192546,"results":"11","hashOfConfig":"10"},{"size":812,"mtime":1671672643941,"results":"12","hashOfConfig":"10"},{"size":2050,"mtime":1671768111630,"results":"13","hashOfConfig":"10"},{"size":1097,"mtime":1671543399594,"results":"14","hashOfConfig":"10"},{"size":1127,"mtime":1671765333307,"results":"15","hashOfConfig":"10"},{"size":1441,"mtime":1671768565149,"results":"16","hashOfConfig":"10"},{"size":831,"mtime":1671768730022,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"11rlxf1",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\index.js",[],["36","37"],"E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\App.js",[],"E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\ListOfBook.js",[],"E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\AddAndSearch.js",["38"],"import PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\nimport SearchResult from \"./SearchResult\";\r\n//the add button will display this page with a search bar\r\n// when searching for a book with title or author will be shown on the page\r\n//when select a different shelf will call the handleupdate func to update the shelf\r\nconst AddAndSearch = ({\r\n  listBook, handleupdate\r\n\r\n}) => {\r\n  const [searches, setSearches] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    setSearchQuery(e.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    let cleaner = true;\r\n    const book = async () => {\r\n      if (searchQuery !== \"\") {\r\n        const result = await BooksAPI.search(searchQuery);\r\n        if (result.error) {\r\n          setSearches([])\r\n        }\r\n        else {\r\n          if (cleaner) {\r\n            setSearches(listBook.concat(result))\r\n            console.log(result)\r\n          }\r\n        }\r\n      }\r\n    };\r\n    book();\r\n    return () => {\r\n      cleaner = false;\r\n      setSearches([])\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"search-books\">\r\n        <div className=\"search-books-bar\">\r\n          <Link to=\"/\" className=\"close-search\">\r\n            Close\r\n          </Link>\r\n          <div className=\"search-books-input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by title, or author\"\r\n              value={searchQuery}\r\n              onChange={(event) => {\r\n                handleSearch(event);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <SearchResult searches={searches} handleupdate={handleupdate} searchQuery={searchQuery} listBook={listBook} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nAddAndSearch.propTypes = {\r\n  listBook: PropTypes.array.isRequired,\r\n  handleupdate: PropTypes.func.isRequired,\r\n};\r\nexport default AddAndSearch;\r\n","E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\BooksAPI.js",[],"E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\ShelfMain.js",[],"E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\EachBook.js",[],"E:\\1111react cross skilling udacity fwd\\nd0191-c1-myreads\\starter\\src\\SearchResult.js",[],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":42,"column":6,"nodeType":"45","endLine":42,"endColumn":19,"suggestions":"46"},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'listBook'. Either include it or remove the dependency array. If 'setSearches' needs the current value of 'listBook', you can also switch to useReducer instead of useState and read 'listBook' in the reducer.","ArrayExpression",["49"],"no-global-assign","no-unsafe-negation",{"desc":"50","fix":"51"},"Update the dependencies array to be: [listBook, searchQuery]",{"range":"52","text":"53"},[1197,1210],"[listBook, searchQuery]"]