{"ast":null,"code":"var _jsxFileName = \"E:\\\\1111react cross skilling udacity fwd\\\\nd0191-c1-myreads\\\\starter\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport ListOfBook from \"./ListOfBook\";\nimport AddAndSearch from \"./AddAndSearch\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  let navigate = useNavigate();\n  const bookShelfs = [{\n    name: \"Currently Reading\",\n    id: 1,\n    shelfname: \"currentlyReading\"\n  }, {\n    name: \"Want to Read\",\n    id: 2,\n    shelfname: \"wantToRead\"\n  }, {\n    name: \"Read\",\n    id: 3,\n    shelfname: \"read\"\n  }]; //updating the shelf of the book when selected another one\n\n  const handleupdate = (b, event) => {\n    b.shelf = event;\n    updateShelf(b, event);\n  };\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleSearch = e => {\n    setSearchQuery(e);\n  };\n\n  const handlesearch = (q, result) => {\n    const newsearch = async () => {\n      const res = await BooksAPI.search(q, result);\n      setSearchQuery(res);\n      console.log(res);\n    };\n\n    newsearch();\n  };\n\n  const updateShelf = (b, s) => {\n    const newshelf = async () => {\n      await BooksAPI.update(b, s);\n    };\n\n    newshelf();\n    navigate(\"/\");\n  }; //initilaize list of books to empty arry\n\n\n  const [listBook, setListBook] = useState([]); //get all books and set the list of book with results\n\n  useEffect(() => {\n    const book = async () => {\n      const result = await BooksAPI.getAll();\n      setListBook(result);\n    };\n\n    book();\n  }, []);\n  return (\n    /*#__PURE__*/\n    //using routes to navigate between pages and updating the url\n    _jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(ListOfBook, {\n          bookShelfs: bookShelfs,\n          listBook: listBook,\n          handleupdate: handleupdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/search\",\n        element: /*#__PURE__*/_jsxDEV(AddAndSearch, {\n          listBook: listBook,\n          handleupdate: handleupdate,\n          handleSearch: handleSearch,\n          searchQuery: searchQuery\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(App, \"D4kZ907mmqYZboiG3dar/EO2g7E=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/1111react cross skilling udacity fwd/nd0191-c1-myreads/starter/src/App.js"],"names":["useState","useEffect","Routes","Route","useNavigate","ListOfBook","AddAndSearch","BooksAPI","App","navigate","bookShelfs","name","id","shelfname","handleupdate","b","event","shelf","updateShelf","searchQuery","setSearchQuery","handleSearch","e","handlesearch","q","result","newsearch","res","search","console","log","s","newshelf","update","listBook","setListBook","book","getAll"],"mappings":"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","sourcesContent":["import \"./App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\r\nimport ListOfBook from \"./ListOfBook\";\r\nimport AddAndSearch from \"./AddAndSearch\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\n\r\nfunction App() {\r\n  let navigate = useNavigate();\r\n  \r\n\r\n  const bookShelfs = [\r\n    { name: \"Currently Reading\", id: 1, shelfname: \"currentlyReading\" },\r\n    { name: \"Want to Read\", id: 2, shelfname: \"wantToRead\" },\r\n    { name: \"Read\", id: 3, shelfname: \"read\" },\r\n  ];\r\n\r\n  //updating the shelf of the book when selected another one\r\n  const handleupdate = (b, event) => {\r\n    b.shelf = event;\r\n    updateShelf(b, event);\r\n  };\r\n \r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const handleSearch = (e) => {\r\n    setSearchQuery(e);\r\n    \r\n  };\r\nconst handlesearch=(q,result)=>{\r\n  const newsearch=async()=>{ \r\n   const res= await BooksAPI.search(q,result);\r\n   setSearchQuery(res);\r\n  console.log(res)\r\n  }\r\n newsearch();\r\n}\r\n\r\n  const updateShelf = (b, s) => {\r\n    const newshelf = async () => {\r\n      await BooksAPI.update(b, s);\r\n    };\r\n\r\n    newshelf();\r\n    navigate(\"/\");\r\n  };\r\n  //initilaize list of books to empty arry\r\n  const [listBook, setListBook] = useState([]);\r\n  //get all books and set the list of book with results\r\n  useEffect(() => {\r\n    const book = async () => {\r\n      const result = await BooksAPI.getAll();\r\n      setListBook(result);\r\n    };\r\n    book();\r\n  }, []);\r\n\r\n  return (\r\n    //using routes to navigate between pages and updating the url\r\n    <Routes>\r\n      <Route\r\n        exact\r\n        path=\"/\"\r\n        element={\r\n          <ListOfBook\r\n            bookShelfs={bookShelfs}\r\n            listBook={listBook}\r\n            handleupdate={handleupdate}\r\n          />\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/search\"\r\n        element={\r\n          <AddAndSearch listBook={listBook} handleupdate={handleupdate} handleSearch={handleSearch} \r\n          searchQuery={searchQuery}/>\r\n        }\r\n      />\r\n    </Routes>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}